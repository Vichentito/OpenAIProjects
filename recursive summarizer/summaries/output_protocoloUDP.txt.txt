El Protocolo de Datagrama de Usuario (UDP, por sus siglas en inglés) es un protocolo sin conexión que no añade nada a los servicios de IP, excepto proporcionar comunicación proceso a proceso en diferentes computadoras. Además, ofrece comprobación de errores muy limitada. Si bien tiene desventajas, también cuenta con algunas ventajas como el hecho de que requiere menos potencia. La Figura 23.7 muestra el control de errores y la Figura 23.8 muestra la posición de UDP, TCP y SCTP en la suite TCP/IP. Existen puertos bien conocidos para UDP, los cuales se muestran en la Tabla 23.1. Por ejemplo, el puerto 21 se puede utilizar para FTP tanto en UDP como en TCP. El SNMP utiliza dos números de puerto (161 y 162) cada uno con un propósito distinto. Los paquetes UDP, también conocidos como datagramas de usuario, tienen una cabecera de tamaño fijo de ocho bytes, que se muestran en la Figura 23.9. Entre los campos encontramos el número de puerto origen y destino (16 bits cada uno), longitud (16 bits) y los datos.

UDP es un protocolo de transporte sin conexión que proporciona un servicio sin conexión para la entrega de datagramas de usuario. Para enviar un mensaje de un proceso a otro, el protocolo UDP encapsula y desencapsula los mensajes en un datagrama IP. El campo del primero se usa para identificar la longitud del datagrama UDP que está encapsulado en un datagrama IP. Además, el campo de suma de comprobación se usa para detectar errores en el datagrama de usuario (cabecera y datos). Por otro lado, UDP no proporciona control de flujo ni mecanismos para detectar errores, por lo que el proceso que use UDP debería proporcionar estos mecanismos. Cuando un proceso arranca, pide un número de puerto al sistema operativo y este crea colas asociadas a los datos de entrada y salida del proceso. Por ejemplo, si un proceso quiere comunicarse con muchos procesos, obtiene slo un número de puerto y eventualmente una cola de entrada y salida. Estas colas funcionan mientras se ejecuta el proceso y cuando termina el proceso, las colas son destruidas.

UDP es un protocolo de transporte que gestiona colas de entrada y de salida. Cuando llega un mensaje para un cliente, UDP comprueba si existe una cola de entrada para el número de puerto especificado en el campo número de puerto destino del datagrama de usuario. Si la cola existe, UDP envía el datagrama de usuario recibido al final de la cola. Si no existe dicha cola, UDP descarta el datagrama y le pide al protocolo ICMP que envíe un mensaje de puerto no alcanzable al servidor. El lado del servidor es diferente ya que un servidor pide colas de entrada y salida cuando arranca, y permanecen abiertas mientras el servidor está en ejecución. Cuando un servidor quiere responder a un cliente, envía los mensajes a la cola de salida, usando el número de puerto origen especificado en la petición. UDP se usa para diversos procesos como peticiones-respuestas sencillas, procesos con mecanismos internos de control de flujo y error como TFTP, multienvío, procesos de gestión como SNMP y protocolos de actualización de ruta como RIP.